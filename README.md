# Практическая работа 2
Голубев Илья ЭФМО-02-25
# Описание проекта
Минимальный сервис на Go с правильной структурой проекта, включающий базовые эндпоинты и логирование запросов.
Цели:	
- Понять назначение ключевых директорий (cmd/, internal/, pkg/ и др.).
- Научиться раскладывать код и артефакты проекта по «правильным» местам.
- обрать минимальный скелет проекта и запустить «пустой» main.go.

# Требования
Go версии 1.21 и выше
# Установка и запуск
Клонировать репозиторий:
```
git clone https://github.com/iliaglbv/PR2
cd PR2
```
Команда запуска сервера:
```
go run ./cmd/server
```
# Структура проекта
```plaintext
PR2/                     # Корень проекта
├── cmd/                   # Основные исполняемые файлы
│   └── myapp/             # Каталог конкретного бинарника "myapp"
│       └── main.go        # Главный файл, запуск приложения
├── internal/              # Внутренние пакеты (используются только внутри проекта)
│   └── app/               # Основная логика приложения
│       └── handler/       # Обработчики HTTP-запросов
│       │  └── ping.go     # Пример обработчика /ping
│       └── app.go         # Инициализация приложения (роутеры, сервисы и т.п.)
├── utils/                 # Вспомогательные утилиты (пакет общего назначения)
│   ├── httpjson.go        # Функции для работы с JSON в HTTP-ответах
│   └── logger.go          # Настройки и функции для логирования
├── go.mod                 # Файл зависимостей Go
└── binmyapp.exe           # Скомпилированный исполняемый файл (Windows)
```
# Основные эндпоинты
Простой текстовый ответ

    curl http://localhost:8080/

Пинг сервера

    curl http://localhost:8080/ping

Простой ответ "bad_request_example"

    curl http://localhost:8080/fail

Примеры запросов
8080/

<img width="535" height="118" alt="8080" src="https://github.com/user-attachments/assets/2cc0f655-f046-4618-bf06-880be334549e" />

ping

<img width="429" height="118" alt="ping" src="https://github.com/user-attachments/assets/50a540c2-370a-410e-b76e-9ea2c9b01114" />

ping c Request id

    curl -i -H "X-Request-Id: demo-123" http://localhost:8080/ping
    
<img width="653" height="133" alt="req2" src="https://github.com/user-attachments/assets/79ee90e6-8192-4d21-a86f-2f0222f98f8e" />


fail

<img width="431" height="146" alt="fail_2" src="https://github.com/user-attachments/assets/85a6be91-9665-441a-b9b3-c8162f5fcfa9" />

Логи сервера

<img width="426" height="106" alt="serverlog" src="https://github.com/user-attachments/assets/9922db79-3876-42d5-8d34-f92c3ef4c900" />

# Артефакты и папки
- main.go Расположен в myapp/cmd/myapp. Является точкой входа приложения и загружает код из пакета internal/. Структура соответствует рекомендациям Go, поэтому перемещать или изменять расположение этого файла не рекомендуется.
- app.go Находится в internal/app. Содержит основную логику приложения. Пакет internal недоступен для импорта извне, что гарантирует инкапсуляцию. Если в будущем потребуется использовать этот код в других проектах, его следует перенести в папку pkg/, так как пакеты в pkg предназначены для внешнего использования.
- /configs Предназначен для хранения конфигурационных файлов и настроек по умолчанию (например, .yaml, .json, .env).
- /init Может использоваться для размещения скриптов и конфигураций, необходимых для инициализации сервиса в системе: конфиги для systemd, Upstart, SysV, а также для менеджеров процессов, таких как runit или supervisord.
- /examples Подходит для размещения примеров использования приложения или библиотек: демонстрационные программы, шаблоны вызовов, готовые сценарии.
